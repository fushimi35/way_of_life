<% content_for(:title, t('.title')) %>
<div class="container">
  <div class="row">
    <div class="col-md-10 offset-md-1 col-lg-8 offset-lg-2">
      <h1><%= t '.title' %></h1>
      <%= render partial: 'shared/error_messages', locals: { object: current_user } %>
      <%= form_with(model: current_user, url: profile_path, local: true) do |form| %>
        <div class="form-group">
          <%= form.label :email %>
          <%= form.email_field :email, class:'form-control' %>
        </div>
        <div class="form-group">
          <%= form.label :first_name %>
          <%= form.text_field :first_name, class:'form-control' %>
        </div>
        <div class="form-group">
          <%= form.label :last_name %>
          <%= form.text_field :last_name, class:'form-control' %>
        </div>
        <div class="form-group">
          <%= form.label :avatar %>
          <%= form.file_field :avatar,id: 'user_avatar', class:'form-control' %>
          <%= form.hidden_field :avatar_cache %>
          <div class="mt-3 mb-3">
            <% unless current_user.avatar.file.nil? %>
              <%= image_tag current_user.avatar.url,size: "100x100", id: 'img_prev', class: 'rounded-circle mr15' %>
            <% else %>
              <%= image_tag 'sample.jpg', size: "100x100", class: 'rounded-circle mr15',id: 'img_prev' %>
            <% end %>
          </div>
        </div>
        <%= form.submit t('defaults.update'), class: 'btn btn-primary' %>
      <% end %>
    </div>
    <div id="img_prev"></div>
  </div>
</div>
